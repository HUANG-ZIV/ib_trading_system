# ============================================================
# IB Trading System - 環境變數配置
# ============================================================
# 使用方式：複製此檔案為 .env 並填入你的配置
# cp .env.example .env
# ============================================================

# ------------------------------------------------------------
# IB 連接設定
# ------------------------------------------------------------
# TWS Paper Trading: 7497
# TWS Live Trading:  7496
# IB Gateway Paper:  4002
# IB Gateway Live:   4001
# ------------------------------------------------------------
IB_HOST=127.0.0.1
IB_PORT=7497
IB_CLIENT_ID=1
IB_READONLY=False
IB_TIMEOUT=30

# 重連設定
IB_MAX_RECONNECT_ATTEMPTS=5
IB_RECONNECT_INTERVAL=10

# ------------------------------------------------------------
# 交易模式
# ------------------------------------------------------------
# paper: 模擬交易（建議先使用此模式測試）
# live:  實盤交易
# ------------------------------------------------------------
TRADING_MODE=paper

# ------------------------------------------------------------
# 數據庫設定
# ------------------------------------------------------------
# DB_TYPE: sqlite / duckdb
# ------------------------------------------------------------
DB_TYPE=sqlite
DB_PATH=./data_store/trading.db
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# ------------------------------------------------------------
# 日誌設定
# ------------------------------------------------------------
# LOG_LEVEL: DEBUG / INFO / WARNING / ERROR / CRITICAL
# ------------------------------------------------------------
LOG_LEVEL=INFO
LOG_PATH=./logs
LOG_ROTATION=10 MB
LOG_RETENTION=30 days
LOG_ASYNC=True

# ------------------------------------------------------------
# 風控參數
# ------------------------------------------------------------
# MAX_DAILY_LOSS:        每日最大虧損金額
# MAX_POSITION_SIZE:     單筆最大持倉數量
# MAX_TOTAL_EXPOSURE:    總曝險上限金額
# MAX_POSITION_PER_SYMBOL: 單一標的最大持倉
# ------------------------------------------------------------
MAX_DAILY_LOSS=1000
MAX_POSITION_SIZE=100
MAX_TOTAL_EXPOSURE=10000
MAX_POSITION_PER_SYMBOL=50

# 熔斷機制
# CIRCUIT_BREAKER_THRESHOLD: 連續虧損次數觸發熔斷
# CIRCUIT_BREAKER_COOLDOWN:  熔斷冷卻時間（秒）
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_COOLDOWN=300

# ------------------------------------------------------------
# Telegram 通知設定
# ------------------------------------------------------------
# 1. 與 @BotFather 對話建立 Bot，取得 Token
# 2. 與你的 Bot 對話，透過 @userinfobot 取得 Chat ID
# ------------------------------------------------------------
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ------------------------------------------------------------
# Email 通知設定
# ------------------------------------------------------------
# Gmail 用戶需使用「應用程式密碼」而非帳戶密碼
# 參考：https://support.google.com/accounts/answer/185833
# ------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
ALERT_EMAIL=

# ------------------------------------------------------------
# 時區設定
# ------------------------------------------------------------
# 美股：America/New_York
# 台股：Asia/Taipei
# ------------------------------------------------------------
TIMEZONE=America/New_York